!function(e){"use strict";function t(){this.storage={}}Map||(e.Map=t),t.prototype.has=function(e){return this.storage.hasOwnProperty(e)},t.prototype.get=function(e){return this.storage[e]},t.prototype.set=function(e,t){this.storage[e]=t},t.prototype["delete"]=function(e){this.has(e)&&delete this.storage[e]},Object.defineProperty(t.prototype,"size",{enumerable:!0,configurable:!1,get:function(){return Object.keys(this.storage).length}})}(window),function(e){"use strict";e.module("echarts-ng",[])}(angular),function(e){"use strict";function t(){var t=this;t.$get=[function(){function t(t){if(!e.isObject(t)||!e.isArray(t.series)||1!==t.series.length)return!1;var r=t.series[0];return e.isArray(r.data)&&e.equals(r.type,"waterfall")}function r(e,t){if(s.shouldAdaptWaterfall(t)){var r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{a1}: <br/> {b1}: {c1}"}};e.setOption(r)}}function n(e){return e.reduce(function(e,t){return e+t},0)}function a(e){var t;return t=e.reduce(function(e,t,r,a){if(r>0&&r<a.length-1){var i=r,s=a.slice(0,i),o=n(s);e.push(o)}return e},[]),t.unshift(0)&&t.push(0),t}function i(t){if(!s.shouldAdaptWaterfall(t))return t;t=e.copy(t);var r=t.series[0],n={stack:"waterfall",type:"bar",label:{normal:{show:!0,position:"inside"}}};e.extend(r,n);var a={name:"helper",type:"bar",stack:"waterfall",itemStyle:{normal:{barBorderColor:"rgba(0,0,0,1)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},data:s.calculateWaterfallFlow(r.data)};return t.series=[a,r],t}var s={};return s.shouldAdaptWaterfall=t,s.adaptWaterfallTooltip=r,s.calculateWaterfallSummary=n,s.calculateWaterfallFlow=a,s.adaptWaterfallSeries=i,s}]}e.module("echarts-ng").provider("$waterfall",t)}(angular),function(e){"use strict";function t(){var t=this;t.$get=[function(){function t(t,r){return!!r&&(e.isString(r)?2===r.split(":").length||(console.warn("The Pass Pixel Ratio Invalid, Please Verify Param"),!1):(console.warn("The Pass Pixel Ratio Not Assign, Please Make Sure Height Already Specified"),!1))}function r(e,t){var r,n,a=t.split(":").reverse().map(Number);r=e.clientWidth,n=r*a[0]/a[1],e.style.height=n+"px"}function n(e){e.style.removeProperty?e.style.removeProperty("height"):e.style.removeAttribute("height")}function a(e){e.resize()}function i(e){var t=45,r=e.length,n=e[0].data.length*r;switch(!0){case n<5:t=60;break;case n>=5&&n<10:t=45;break;case n>=10:t=35}return t*n+"px"}function s(t,r){return!!t&&(!(!e.isArray(r)||!r[0])&&e.isArray(r[0].data))}function o(e,t){e.style.height=c.calculateDynamicDimension(t)}var c={};return c.shouldAdaptDimension=t,c.shouldAdjustEchartsDimension=s,c.adaptEchartsDimension=r,c.calculateDynamicDimension=i,c.removeEchartsDimension=n,c.synchronizeEchartsDimension=a,c.adjustEchartsDimension=o,c}]}e.module("echarts-ng").provider("$dimension",t)}(angular),function(e){"use strict";function t(){var t=this;t.GLOBAL_OPTION={theme:"macarons",driftPalette:!0,notMerge:!0,emptyMask:{text:"未查询到数据",isEmpty:function(e){return!e.series||0==e.series.length||!e.series[0].data||0==e.series[0].data.length}},loading:{maskColor:"rgba(255, 255, 255, 1)"},title:{left:"center",top:"top",padding:[20,10,10,10]},grid:{top:"15%",left:"5%",right:"5%",bottom:"5%",containLabel:!0},backgroundColor:"rgba(255, 255, 255, .5)",legend:{left:"center",top:"top",padding:[20,10,10,10]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}}},t.setGlobalOption=function(r){e.merge(t.GLOBAL_OPTION,r)},t.$get=["$q","$timeout","$waterfall","$dimension",function(r,n,a,i){function s(){return t.GLOBAL_OPTION}function o(){return Math.random().toString(36).substr(2,9)}function c(e,t){g.storage.set(e,t)}function l(e){var t=r.defer();return n(function(){g.storage.has(e)?t.resolve(g.storage.get(e)):(console.error("Echarts Identity Not Registered, Please Verify The Process"),t.reject({errorDesc:"Echarts Identity Not Registered, Please Verify The Process"}))},0),t.promise}function u(e){g.storage["delete"](e)}function h(t,r){var n,s=e.copy(g.getEchartsGlobalOption()),o=g.storage.get(t);if(e.isUndefined(o))return void console.warn("The instance not registered. Probably the exception belongs to the directive wrap");if(a.adaptWaterfallTooltip(o,r),i.shouldAdjustEchartsDimension(r.dynamic,r.series)&&i.adjustEchartsDimension(o.getDom(),r.series),n=a.adaptWaterfallSeries(r),e.isObject(n)&&e.isArray(n.series)){o.hideLoading(),o.resize(),e.isArray(n.title)&&delete s.title;var c=e.merge({},s,n);o.setOption(c,c.notMerge),d(o,c)}else o.showLoading("default",n.loading||s.loading)}function d(t,r){var n=e.element(t._api.getDom()),a=t._emptyMask;a&&0!=a.length?a.css("display","none"):(t._emptyMask=a=e.element("<div style='display: none;position: relative;top: -50%;text-align: center;' class='empty-mask'>"+r.emptyMask.text+"</div>"),n.append(a)),r.emptyMask.isEmpty(r)&&a.css("display","block")}function p(t,r){if(r){var a=t.getOption(),i=e.copy(a.color),s=f(i,g.storage.size);n(function(){t.setOption({color:s})},0)}}function f(t,r){t=e.copy(t);var n,a,i=t.length;return n=r<i?r:r%i,a=t.splice(0,n),t.concat(a)}var g={};return g.storage=new Map,g.generateInstanceIdentity=o,g.getEchartsGlobalOption=s,g.registerEchartsInstance=c,g.queryEchartsInstance=l,g.removeEchartsInstance=u,g.updateEchartsInstance=h,g.driftPaletteProperty=f,g.driftEchartsPalette=p,g}]}e.module("echarts-ng").provider("$echarts",t)}(angular),function(e,t){"use strict";function r(e,r){return{priority:5,restrict:"A",scope:{echarts:"=",echartsDimension:"=",config:"="},bindToController:!0,controller:["$scope","$element",function(n,a){a.addClass("ec-chart");var i=this,s=e.getEchartsGlobalOption(),o=i.echarts,c=a[0];if(!o)throw new Error("Echarts Instance Identity Required");r.shouldAdaptDimension(c,i.echartsDimension)&&r.adaptEchartsDimension(c,i.echartsDimension);var l;l=t.init(c,s.theme),l.setOption(s),e.driftEchartsPalette(l,s.driftPalette),e.registerEchartsInstance(o,l),e.updateEchartsInstance(o,i.config),n.$watch("chart.config",function(t,r){e.updateEchartsInstance(o,i.config)},!0),n.$on("$destroy",function(){l.clear(),l.dispose(),e.removeEchartsInstance(o),r.removeEchartsDimension(c)})}],controllerAs:"chart"}}e.module("echarts-ng").directive("echarts",r),r.$inject=["$echarts","$dimension"]}(angular,echarts);